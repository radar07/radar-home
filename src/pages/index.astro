---
import { getCollection } from 'astro:content'
import BaseLayout from '../layouts/BaseLayout.astro'
import PostPreview from '../components/PostPreview.astro'

const posts = await getCollection('posts', ({ data }) => {
  return data.isDraft != true
})
---

<BaseLayout>
  {
    (
      <div class="mb-16 sm:mb-24">
        <h2 class="mb-8 text-xl font-serif italic sm:mb-10 sm:text-2xl">Blog</h2>
        {posts.map(post => (
            <div class="mb-10 sm:mb-10">
              {/* <a href={`posts/${post.slug}/`}>{post.data.title}</a> */}
              <PostPreview post={post}/>
            </div>
        ))}
      </div>
    )
  }
</BaseLayout>